<!DOCTYPE HTML>
<html lang="en-us">
	<head>
		<title>Video</title>
		<link href="../style.css" rel="stylesheet"/>
		<style>
			#display {
				width:530px;
			}
		</style>
	</head>
	<body>
		<h1>Video Sandbox</h1>
		<p>The Video is the first minute from the <abbr title="shout out to Aaron Swartz RIP">cc</abbr>-by licensed “open movie” <a href="http://bigbuckbunny.org" target="_blank">Big Buck Bunny</a></p><a href="https://creativecommons.org/licenses/by/2.0/" target="_blank">license</a>
		<p>Video hosting provied by<br /><a href="http://webop.de/users/69" target="_blank">André M. Åslund</a> of <a href="http://vorwaerts-gmbh.de" target="_blank">Vorwärts GmbH</a>.
		</p>
		<video controls="controls" height="300" preload="auto" id="video">
			<source src="http://clips.vorwaerts-gmbh.de/VfE_html5.mp4" type="video/mp4"  />
			<source src="http://clips.vorwaerts-gmbh.de/VfE.webm"      type="video/webm" />
			<source src="http://clips.vorwaerts-gmbh.de/VfE.ogv"       type="video/ogg"  />
		</video>
		<div id="display">
		<span>Stopped to load: <span id="count">0</span></span>
		<span style="float:right">Playback Speed: <span id="speed">1.0x</span></span>
		</div>
		
		<input type="button" id="slower" value="slower" />
		<input type="button" id="normal" value="normal" />
		<input type="button" id="faster" value="faster" />
		<div class="nav">
			<a href="../index.html">home</a> |
			<a href="../pages/VideoHOME.html">back</a>
		</div>
	<script>
		//variables
		var video = document.getElementById('video');
		var countDisplay = document.getElementById('count');
		var speedDisplay = document.getElementById('speed');
		var faster = document.getElementById('faster');
		var slower = document.getElementById('slower');
		var normal = document.getElementById('normal');
		var curRate = video.playbackRate;
		var count = 0;
		
		
		video.load();
		video.addEventListener('canplaythrough',function(){
			//video.play();
		});
		video.loop = true;
		video.addEventListener('waiting', function(){
			count++;
			countDisplay.innerHTML = count;
		});
		
		slower.addEventListener('click', function(){
			
			//decrease playback speed
			//this conditional sets the min speed
			if(curRate > 0){
				video.playbackRate = parseFloat(curRate) - 0.1;
				curRate = video.playbackRate.toFixed(2);
			}
			speedDisplay.innerHTML = video.playbackRate.toFixed(1)+'x';
		});
		
		faster.addEventListener('click', function(){
			//increase playback speed
			//this conditional sets the max speed
			if(curRate < 2.0){
				video.playbackRate = parseFloat(curRate) + 0.1;
				curRate = video.playbackRate.toFixed(2);
			}
			speedDisplay.innerHTML = video.playbackRate.toFixed(1)+'x';
		});
		
		normal.addEventListener('click', function(){
			video.playbackRate = 1.0;
			curRate = 1.0;
			speedDisplay.innerHTML = video.playbackRate.toFixed(1)+'x';
		});
	</script>
	</body>
</html>