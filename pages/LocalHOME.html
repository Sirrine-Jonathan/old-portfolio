<!DOCTYPE html>
<html>
<head>
	<title>Local Storage, etc</title>
	<link href="../style.css" rel="stylesheet"/>
	<style>
		#note {
			resize:both;
			width:500px;
		}
	</style>
</head>
<body>
	<h1>Leave a note for yourself</h1>
	<textarea id="note" rows="10"></textarea>
	<div class="nav">
		<a href="../index.html">home</a>
	</div>
<script>
	
if (typeof(Storage) !== "undefined") {
	var ls = window.localStorage;
	var note = document.getElementById('note');
	
	window.onload = function(){
		if(ls.note){
			note.value = ls.note;
		}
	}
	
	note.addEventListener('keyup', function(){
		var currentNote = document.getElementById('note').value;
		ls.setItem('note', currentNote);
	});
	
	
}
else{
	var note = document.getElementById('note');
	var err = document.createElement('h1');
	var errText = document.createTextNode('ERR: Your browser does not support Local Storage');
	err.appendChild(errText);
	note.appendChild(err);
}
</script>
</body>
</html>